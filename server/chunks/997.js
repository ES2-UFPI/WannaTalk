"use strict";exports.id=997,exports.ids=[997],exports.modules={9856:(e,t,r)=>{/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(7577),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useState,a=n.useEffect,i=n.useLayoutEffect,s=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=l({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return i(function(){o.value=r,o.getSnapshot=t,c(o)&&u({inst:o})},[e,r,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},4095:(e,t,r)=>{e.exports=r(9856)},5353:(e,t,r)=>{r.d(t,{Z:()=>n});function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},4150:(e,t,r)=>{r.d(t,{Ee:()=>w,NY:()=>y,fC:()=>h});var n=r(5353),o=r(7577),l=r(3095),a=r(5049),i=r(5819),s=r(5226);let c="Avatar",[u,d]=(0,l.b)(c),[f,p]=u(c),m=(0,o.forwardRef)((e,t)=>{let{__scopeAvatar:r,...l}=e,[a,i]=(0,o.useState)("idle");return(0,o.createElement)(f,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i},(0,o.createElement)(s.WV.span,(0,n.Z)({},l,{ref:t})))}),g=(0,o.forwardRef)((e,t)=>{let{__scopeAvatar:r,src:l,onLoadingStatusChange:c=()=>{},...u}=e,d=p("AvatarImage",r),f=function(e){let[t,r]=(0,o.useState)("idle");return(0,i.b)(()=>{if(!e){r("error");return}let t=!0,n=new window.Image,o=e=>()=>{t&&r(e)};return r("loading"),n.onload=o("loaded"),n.onerror=o("error"),n.src=e,()=>{t=!1}},[e]),t}(l),m=(0,a.W)(e=>{c(e),d.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==f&&m(f)},[f,m]),"loaded"===f?(0,o.createElement)(s.WV.img,(0,n.Z)({},u,{ref:t,src:l})):null}),v=(0,o.forwardRef)((e,t)=>{let{__scopeAvatar:r,delayMs:l,...a}=e,i=p("AvatarFallback",r),[c,u]=(0,o.useState)(void 0===l);return(0,o.useEffect)(()=>{if(void 0!==l){let e=window.setTimeout(()=>u(!0),l);return()=>window.clearTimeout(e)}},[l]),c&&"loaded"!==i.imageLoadingStatus?(0,o.createElement)(s.WV.span,(0,n.Z)({},a,{ref:t})):null}),h=m,w=g,y=v},8051:(e,t,r)=>{r.d(t,{F:()=>o,e:()=>l});var n=r(7577);function o(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function l(...e){return(0,n.useCallback)(o(...e),e)}},3095:(e,t,r)=>{r.d(t,{b:()=>o});var n=r(7577);function o(e,t=[]){let r=[],o=()=>{let t=r.map(e=>(0,n.createContext)(e));return function(r){let o=(null==r?void 0:r[e])||t;return(0,n.useMemo)(()=>({[`__scope${e}`]:{...r,[e]:o}}),[r,o])}};return o.scopeName=e,[function(t,o){let l=(0,n.createContext)(o),a=r.length;function i(t){let{scope:r,children:o,...i}=t,s=(null==r?void 0:r[e][a])||l,c=(0,n.useMemo)(()=>i,Object.values(i));return(0,n.createElement)(s.Provider,{value:c},o)}return r=[...r,o],i.displayName=t+"Provider",[i,function(r,i){let s=(null==i?void 0:i[e][a])||l,c=(0,n.useContext)(s);if(c)return c;if(void 0!==o)return o;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let o=r.reduce((t,{useScope:r,scopeName:n})=>{let o=r(e)[`__scope${n}`];return{...t,...o}},{});return(0,n.useMemo)(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}(o,...t)]}},5226:(e,t,r)=>{r.d(t,{WV:()=>a});var n=r(5353),o=r(7577);r(962);var l=r(4214);let a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,o.forwardRef)((e,r)=>{let{asChild:a,...i}=e,s=a?l.g7:t;return(0,o.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,o.createElement)(s,(0,n.Z)({},i,{ref:r}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{})},8863:(e,t,r)=>{r.d(t,{Ns:()=>q,fC:()=>$,gb:()=>S,q4:()=>P,l_:()=>B});var n=r(5353),o=r(7577),l=r(5226),a=r(962),i=r(8051),s=r(5819);let c=e=>{let{present:t,children:r}=e,n=function(e){var t,r;let[n,l]=(0,o.useState)(),i=(0,o.useRef)({}),c=(0,o.useRef)(e),d=(0,o.useRef)("none"),[f,p]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,o.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return(0,o.useEffect)(()=>{let e=u(i.current);d.current="mounted"===f?e:"none"},[f]),(0,s.b)(()=>{let t=i.current,r=c.current;if(r!==e){let n=d.current,o=u(t);e?p("MOUNT"):"none"===o||(null==t?void 0:t.display)==="none"?p("UNMOUNT"):r&&n!==o?p("ANIMATION_OUT"):p("UNMOUNT"),c.current=e}},[e,p]),(0,s.b)(()=>{if(n){let e=e=>{let t=u(i.current).includes(e.animationName);e.target===n&&t&&(0,a.flushSync)(()=>p("ANIMATION_END"))},t=e=>{e.target===n&&(d.current=u(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:(0,o.useCallback)(e=>{e&&(i.current=getComputedStyle(e)),l(e)},[])}}(t),l="function"==typeof r?r({present:n.isPresent}):o.Children.only(r),c=(0,i.e)(n.ref,l.ref);return"function"==typeof r||n.isPresent?(0,o.cloneElement)(l,{ref:c}):null};function u(e){return(null==e?void 0:e.animationName)||"none"}c.displayName="Presence";var d=r(3095),f=r(5049);let p=(0,o.createContext)(void 0);function m(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}let g="ScrollArea",[v,h]=(0,d.b)(g),[w,y]=v(g),b=(0,o.forwardRef)((e,t)=>{let{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:c=600,...u}=e,[d,f]=(0,o.useState)(null),[m,g]=(0,o.useState)(null),[v,h]=(0,o.useState)(null),[y,b]=(0,o.useState)(null),[E,_]=(0,o.useState)(null),[S,C]=(0,o.useState)(0),[T,R]=(0,o.useState)(0),[x,A]=(0,o.useState)(!1),[N,I]=(0,o.useState)(!1),L=(0,i.e)(t,e=>f(e)),O=function(e){let t=(0,o.useContext)(p);return e||t||"ltr"}(s);return(0,o.createElement)(w,{scope:r,type:a,dir:O,scrollHideDelay:c,scrollArea:d,viewport:m,onViewportChange:g,content:v,onContentChange:h,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:x,onScrollbarXEnabledChange:A,scrollbarY:E,onScrollbarYChange:_,scrollbarYEnabled:N,onScrollbarYEnabledChange:I,onCornerWidthChange:C,onCornerHeightChange:R},(0,o.createElement)(l.WV.div,(0,n.Z)({dir:O},u,{ref:L,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})))}),E=(0,o.forwardRef)((e,t)=>{let{__scopeScrollArea:r,children:a,...s}=e,c=y("ScrollAreaViewport",r),u=(0,o.useRef)(null),d=(0,i.e)(t,u,c.onViewportChange);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,o.createElement)(l.WV.div,(0,n.Z)({"data-radix-scroll-area-viewport":""},s,{ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,o.createElement)("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"}},a)))}),_="ScrollAreaScrollbar",S=(0,o.forwardRef)((e,t)=>{let{forceMount:r,...l}=e,a=y(_,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,c="horizontal"===e.orientation;return(0,o.useEffect)(()=>(c?i(!0):s(!0),()=>{c?i(!1):s(!1)}),[c,i,s]),"hover"===a.type?(0,o.createElement)(C,(0,n.Z)({},l,{ref:t,forceMount:r})):"scroll"===a.type?(0,o.createElement)(T,(0,n.Z)({},l,{ref:t,forceMount:r})):"auto"===a.type?(0,o.createElement)(R,(0,n.Z)({},l,{ref:t,forceMount:r})):"always"===a.type?(0,o.createElement)(x,(0,n.Z)({},l,{ref:t})):null}),C=(0,o.forwardRef)((e,t)=>{let{forceMount:r,...l}=e,a=y(_,e.__scopeScrollArea),[i,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=a.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),s(!0)},n=()=>{t=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[a.scrollArea,a.scrollHideDelay]),(0,o.createElement)(c,{present:r||i},(0,o.createElement)(R,(0,n.Z)({"data-state":i?"visible":"hidden"},l,{ref:t})))}),T=(0,o.forwardRef)((e,t)=>{var r,l;let{forceMount:a,...i}=e,s=y(_,e.__scopeScrollArea),u="horizontal"===e.orientation,d=Y(()=>p("SCROLL_END"),100),[f,p]=(r="hidden",l={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},(0,o.useReducer)((e,t)=>{let r=l[e][t];return null!=r?r:e},r));return(0,o.useEffect)(()=>{if("idle"===f){let e=window.setTimeout(()=>p("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[f,s.scrollHideDelay,p]),(0,o.useEffect)(()=>{let e=s.viewport,t=u?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(p("SCROLL"),d()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[s.viewport,u,p,d]),(0,o.createElement)(c,{present:a||"hidden"!==f},(0,o.createElement)(x,(0,n.Z)({"data-state":"hidden"===f?"hidden":"visible"},i,{ref:t,onPointerEnter:m(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:m(e.onPointerLeave,()=>p("POINTER_LEAVE"))})))}),R=(0,o.forwardRef)((e,t)=>{let r=y(_,e.__scopeScrollArea),{forceMount:l,...a}=e,[i,s]=(0,o.useState)(!1),u="horizontal"===e.orientation,d=Y(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;s(u?e:t)}},10);return X(r.viewport,d),X(r.content,d),(0,o.createElement)(c,{present:l||i},(0,o.createElement)(x,(0,n.Z)({"data-state":i?"visible":"hidden"},a,{ref:t})))}),x=(0,o.forwardRef)((e,t)=>{let{orientation:r="vertical",...l}=e,a=y(_,e.__scopeScrollArea),i=(0,o.useRef)(null),s=(0,o.useRef)(0),[c,u]=(0,o.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=U(c.viewport,c.content),f={...l,sizes:c,onSizesChange:u,hasThumb:!!(d>0&&d<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function p(e,t){return function(e,t,r,n="ltr"){let o=F(r),l=t||o/2,a=r.scrollbar.paddingStart+l,i=r.scrollbar.size-r.scrollbar.paddingEnd-(o-l),s=r.content-r.viewport;return z([a,i],"ltr"===n?[0,s]:[-1*s,0])(e)}(e,s.current,c,t)}return"horizontal"===r?(0,o.createElement)(A,(0,n.Z)({},f,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){let e=Z(a.viewport.scrollLeft,c,a.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}})):"vertical"===r?(0,o.createElement)(N,(0,n.Z)({},f,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){let e=Z(a.viewport.scrollTop,c);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}})):null}),A=(0,o.forwardRef)((e,t)=>{let{sizes:r,onSizesChange:l,...a}=e,s=y(_,e.__scopeScrollArea),[c,u]=(0,o.useState)(),d=(0,o.useRef)(null),f=(0,i.e)(t,d,s.onScrollbarXChange);return(0,o.useEffect)(()=>{d.current&&u(getComputedStyle(d.current))},[d]),(0,o.createElement)(O,(0,n.Z)({"data-orientation":"horizontal"},a,{ref:f,sizes:r,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(s.viewport){let n=s.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&l({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:W(c.paddingLeft),paddingEnd:W(c.paddingRight)}})}}))}),N=(0,o.forwardRef)((e,t)=>{let{sizes:r,onSizesChange:l,...a}=e,s=y(_,e.__scopeScrollArea),[c,u]=(0,o.useState)(),d=(0,o.useRef)(null),f=(0,i.e)(t,d,s.onScrollbarYChange);return(0,o.useEffect)(()=>{d.current&&u(getComputedStyle(d.current))},[d]),(0,o.createElement)(O,(0,n.Z)({"data-orientation":"vertical"},a,{ref:f,sizes:r,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(s.viewport){let n=s.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),function(e,t){return e>0&&e<t}(n,r)&&t.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&l({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:W(c.paddingTop),paddingEnd:W(c.paddingBottom)}})}}))}),[I,L]=v(_),O=(0,o.forwardRef)((e,t)=>{let{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:p,onDragScroll:g,onWheelScroll:v,onResize:h,...w}=e,b=y(_,r),[E,S]=(0,o.useState)(null),C=(0,i.e)(t,e=>S(e)),T=(0,o.useRef)(null),R=(0,o.useRef)(""),x=b.viewport,A=a.content-a.viewport,N=(0,f.W)(v),L=(0,f.W)(p),O=Y(h,10);function D(e){T.current&&g({x:e.clientX-T.current.left,y:e.clientY-T.current.top})}return(0,o.useEffect)(()=>{let e=e=>{let t=e.target;(null==E?void 0:E.contains(t))&&N(e,A)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[x,E,A,N]),(0,o.useEffect)(L,[a,L]),X(E,O),X(b.content,O),(0,o.createElement)(I,{scope:r,scrollbar:E,hasThumb:s,onThumbChange:(0,f.W)(c),onThumbPointerUp:(0,f.W)(u),onThumbPositionChange:L,onThumbPointerDown:(0,f.W)(d)},(0,o.createElement)(l.WV.div,(0,n.Z)({},w,{ref:C,style:{position:"absolute",...w.style},onPointerDown:m(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),T.current=E.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),D(e))}),onPointerMove:m(e.onPointerMove,D),onPointerUp:m(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=R.current,b.viewport&&(b.viewport.style.scrollBehavior=""),T.current=null})})))}),D="ScrollAreaThumb",P=(0,o.forwardRef)((e,t)=>{let{forceMount:r,...l}=e,a=L(D,e.__scopeScrollArea);return(0,o.createElement)(c,{present:r||a.hasThumb},(0,o.createElement)(V,(0,n.Z)({ref:t},l)))}),V=(0,o.forwardRef)((e,t)=>{let{__scopeScrollArea:r,style:a,...s}=e,c=y(D,r),u=L(D,r),{onThumbPositionChange:d}=u,f=(0,i.e)(t,e=>u.onThumbChange(e)),p=(0,o.useRef)(),g=Y(()=>{p.current&&(p.current(),p.current=void 0)},100);return(0,o.useEffect)(()=>{let e=c.viewport;if(e){let t=()=>{if(g(),!p.current){let t=H(e,d);p.current=t,d()}};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,g,d]),(0,o.createElement)(l.WV.div,(0,n.Z)({"data-state":u.hasThumb?"visible":"hidden"},s,{ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:m(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;u.onThumbPointerDown({x:r,y:n})}),onPointerUp:m(e.onPointerUp,u.onThumbPointerUp)}))}),k="ScrollAreaCorner",j=(0,o.forwardRef)((e,t)=>{let r=y(k,e.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&l?(0,o.createElement)(M,(0,n.Z)({},e,{ref:t})):null}),M=(0,o.forwardRef)((e,t)=>{let{__scopeScrollArea:r,...a}=e,i=y(k,r),[s,c]=(0,o.useState)(0),[u,d]=(0,o.useState)(0),f=!!(s&&u);return X(i.scrollbarX,()=>{var e;let t=(null===(e=i.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;i.onCornerHeightChange(t),d(t)}),X(i.scrollbarY,()=>{var e;let t=(null===(e=i.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;i.onCornerWidthChange(t),c(t)}),f?(0,o.createElement)(l.WV.div,(0,n.Z)({},a,{ref:t,style:{width:s,height:u,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}})):null});function W(e){return e?parseInt(e,10):0}function U(e,t){let r=e/t;return isNaN(r)?0:r}function F(e){let t=U(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function Z(e,t,r="ltr"){let n=F(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,a=t.content-t.viewport,i=function(e,[t,r]){return Math.min(r,Math.max(t,e))}(e,"ltr"===r?[0,a]:[-1*a,0]);return z([0,a],[0,l-n])(i)}function z(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}let H=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){let l={left:e.scrollLeft,top:e.scrollTop},a=r.left!==l.left,i=r.top!==l.top;(a||i)&&t(),r=l,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function Y(e,t){let r=(0,f.W)(e),n=(0,o.useRef)(0);return(0,o.useEffect)(()=>()=>window.clearTimeout(n.current),[]),(0,o.useCallback)(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function X(e,t){let r=(0,f.W)(t);(0,s.b)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}let $=b,B=E,q=j},4214:(e,t,r)=>{r.d(t,{g7:()=>a});var n=r(5353),o=r(7577),l=r(8051);let a=(0,o.forwardRef)((e,t)=>{let{children:r,...l}=e,a=o.Children.toArray(r),s=a.find(c);if(s){let e=s.props.children,r=a.map(t=>t!==s?t:o.Children.count(e)>1?o.Children.only(null):(0,o.isValidElement)(e)?e.props.children:null);return(0,o.createElement)(i,(0,n.Z)({},l,{ref:t}),(0,o.isValidElement)(e)?(0,o.cloneElement)(e,void 0,r):null)}return(0,o.createElement)(i,(0,n.Z)({},l,{ref:t}),r)});a.displayName="Slot";let i=(0,o.forwardRef)((e,t)=>{let{children:r,...n}=e;return(0,o.isValidElement)(r)?(0,o.cloneElement)(r,{...function(e,t){let r={...t};for(let n in t){let o=e[n],l=t[n];/^on[A-Z]/.test(n)?o&&l?r[n]=(...e)=>{l(...e),o(...e)}:o&&(r[n]=o):"style"===n?r[n]={...o,...l}:"className"===n&&(r[n]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props),ref:t?(0,l.F)(t,r.ref):r.ref}):o.Children.count(r)>1?o.Children.only(null):null});i.displayName="SlotClone";let s=({children:e})=>(0,o.createElement)(o.Fragment,null,e);function c(e){return(0,o.isValidElement)(e)&&e.type===s}},5049:(e,t,r)=>{r.d(t,{W:()=>o});var n=r(7577);function o(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),(0,n.useMemo)(()=>(...e)=>{var r;return null===(r=t.current)||void 0===r?void 0:r.call(t,...e)},[])}},5819:(e,t,r)=>{r.d(t,{b:()=>o});var n=r(7577);let o=(null==globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{}},112:(e,t,r)=>{let n;r.d(t,{RJ:()=>e_});var o=r(7577),l=r(4095);let a=()=>{},i=a(),s=Object,c=e=>e===i,u=e=>"function"==typeof e,d=(e,t)=>({...e,...t}),f=e=>u(e.then),p=new WeakMap,m=0,g=e=>{let t,r;let n=typeof e,o=e&&e.constructor,l=o==Date;if(s(e)!==e||l||o==RegExp)t=l?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=p.get(e))return t;if(t=++m+"~",p.set(e,t),o==Array){for(r=0,t="@";r<e.length;r++)t+=g(e[r])+",";p.set(e,t)}if(o==s){t="#";let n=s.keys(e).sort();for(;!c(r=n.pop());)c(e[r])||(t+=r+":"+g(e[r])+",");p.set(e,t)}}return t},v=new WeakMap,h={},w={},y="undefined",b=typeof window!=y,E=typeof document!=y,_=()=>b&&typeof window.requestAnimationFrame!=y,S=(e,t)=>{let r=v.get(e);return[()=>!c(t)&&e.get(t)||h,n=>{if(!c(t)){let o=e.get(t);t in w||(w[t]=o),r[5](t,d(o,n),o||h)}},r[6],()=>!c(t)&&t in w?w[t]:!c(t)&&e.get(t)||h]},C=!0,[T,R]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[a,a],x={initFocus:e=>(E&&document.addEventListener("visibilitychange",e),T("focus",e),()=>{E&&document.removeEventListener("visibilitychange",e),R("focus",e)}),initReconnect:e=>{let t=()=>{C=!0,e()},r=()=>{C=!1};return T("online",t),T("offline",r),()=>{R("online",t),R("offline",r)}}},A=!o.useId,N=!b||"Deno"in window,I=e=>_()?window.requestAnimationFrame(e):setTimeout(e,1),L=N?o.useEffect:o.useLayoutEffect,O="undefined"!=typeof navigator&&navigator.connection,D=!N&&O&&(["slow-2g","2g"].includes(O.effectiveType)||O.saveData),P=e=>{if(u(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?g(e):"",t]},V=0,k=()=>++V;var j={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function M(...e){let[t,r,n,o]=e,l=d({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),a=l.populateCache,s=l.rollbackOnError,p=l.optimisticData,m=!1!==l.revalidate,g=e=>"function"==typeof s?s(e):!1!==s,h=l.throwOnError;if(u(r)){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(w))}return w(r);async function w(r){let o;let[l]=P(r);if(!l)return;let[s,d]=S(t,l),[w,y,b,E]=v.get(t),_=w[l],C=()=>m&&(delete b[l],delete E[l],_&&_[0])?_[0](2).then(()=>s().data):s().data;if(e.length<3)return C();let T=n,R=k();y[l]=[R,0];let x=!c(p),A=s(),N=A.data,I=A._c,L=c(I)?N:I;if(x&&d({data:p=u(p)?p(L,N):p,_c:L}),u(T))try{T=T(L)}catch(e){o=e}if(T&&f(T)){if(T=await T.catch(e=>{o=e}),R!==y[l][0]){if(o)throw o;return T}o&&x&&g(o)&&(a=!0,d({data:T=L,_c:i}))}a&&!o&&(u(a)&&(T=a(T,L)),d({data:T,error:i,_c:i})),y[l][1]=k();let O=await C();if(d({_c:i}),o){if(h)throw o;return}return a?O:T}}let W=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},U=(e,t)=>{if(!v.has(e)){let r=d(x,t),n={},o=M.bind(i,e),l=a,s={},c=(e,t)=>{let r=s[e]||[];return s[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},u=(t,r,n)=>{e.set(t,r);let o=s[t];if(o)for(let e of o)e(r,n)},f=()=>{if(!v.has(e)&&(v.set(e,[n,{},{},{},o,u,c]),!N)){let t=r.initFocus(setTimeout.bind(i,W.bind(i,n,0))),o=r.initReconnect(setTimeout.bind(i,W.bind(i,n,1)));l=()=>{t&&t(),o&&o(),v.delete(e)}}};return f(),[e,o,f,l]}return[e,v.get(e)[4]]},[F,Z]=U(new Map),z=d({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:(e,t,r,n,o)=>{let l=r.errorRetryCount,a=o.retryCount,i=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;(c(l)||!(a>l))&&setTimeout(n,i,o)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:D?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:D?5e3:3e3,compare:(e,t)=>g(e)==g(t),isPaused:()=>!1,cache:F,mutate:Z,fallback:{}},{isOnline:()=>C,isVisible:()=>{let e=E&&document.visibilityState;return c(e)||"hidden"!==e}}),H=(e,t)=>{let r=d(e,t);if(t){let{use:n,fallback:o}=e,{use:l,fallback:a}=t;n&&l&&(r.use=n.concat(l)),o&&a&&(r.fallback=d(o,a))}return r},Y=(0,o.createContext)({}),X=b&&window.__SWR_DEVTOOLS_USE__,$=X?window.__SWR_DEVTOOLS_USE__:[],B=e=>u(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],q=()=>d(z,(0,o.useContext)(Y)),J=$.concat(e=>(t,r,n)=>{let o=r&&((...e)=>{let[n]=P(t),[,,,o]=v.get(F),l=o[n];return c(l)?r(...e):(delete o[n],l)});return e(t,o,n)}),G=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};X&&(window.__SWR_DEVTOOLS_REACT__=o);let K=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),Q={dedupe:!0};s.defineProperty(e=>{let{value:t}=e,r=(0,o.useContext)(Y),n=u(t),l=(0,o.useMemo)(()=>n?t(r):t,[n,r,t]),a=(0,o.useMemo)(()=>n?l:H(r,l),[n,r,l]),s=l&&l.provider,c=(0,o.useRef)(i);s&&!c.current&&(c.current=U(s(a.cache||F),l));let f=c.current;return f&&(a.cache=f[0],a.mutate=f[1]),L(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,o.createElement)(Y.Provider,d(e,{value:a}))},"defaultValue",{value:z});let ee=(n=(e,t,r)=>{let{cache:n,compare:a,suspense:s,fallbackData:f,revalidateOnMount:p,revalidateIfStale:m,refreshInterval:g,refreshWhenHidden:h,refreshWhenOffline:w,keepPreviousData:y}=r,[b,E,_,C]=v.get(n),[T,R]=P(e),x=(0,o.useRef)(!1),O=(0,o.useRef)(!1),D=(0,o.useRef)(T),V=(0,o.useRef)(t),W=(0,o.useRef)(r),U=()=>W.current,F=()=>U().isVisible()&&U().isOnline(),[Z,z,H,Y]=S(n,T),X=(0,o.useRef)({}).current,$=c(f)?r.fallback[T]:f,B=(e,t)=>{for(let r in X)if("data"===r){if(!a(e[r],t[r])&&(!c(e[r])||!a(ea,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},q=(0,o.useMemo)(()=>{let e=!!T&&!!t&&(c(p)?!U().isPaused()&&!s&&(!!c(m)||m):p),r=t=>{let r=d(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=Z(),o=Y(),l=r(n),a=n===o?l:r(o),i=l;return[()=>{let e=r(Z());return B(e,i)?(i.data=e.data,i.isLoading=e.isLoading,i.isValidating=e.isValidating,i.error=e.error,i):(i=e,e)},()=>a]},[n,T]),J=(0,l.useSyncExternalStore)((0,o.useCallback)(e=>H(T,(t,r)=>{B(r,t)||e()}),[n,T]),q[0],q[1]),ee=!x.current,et=b[T]&&b[T].length>0,er=J.data,en=c(er)?$:er,eo=J.error,el=(0,o.useRef)(en),ea=y?c(er)?el.current:er:en,ei=(!et||!!c(eo))&&(ee&&!c(p)?p:!U().isPaused()&&(s?!c(en)&&m:c(en)||m)),es=!!(T&&t&&ee&&ei),ec=c(J.isValidating)?es:J.isValidating,eu=c(J.isLoading)?es:J.isLoading,ed=(0,o.useCallback)(async e=>{let t,n;let o=V.current;if(!T||!o||O.current||U().isPaused())return!1;let l=!0,s=e||{},d=!_[T]||!s.dedupe,f=()=>A?!O.current&&T===D.current&&x.current:T===D.current,p={isValidating:!1,isLoading:!1},m=()=>{z(p)},g=()=>{let e=_[T];e&&e[1]===n&&delete _[T]},v={isValidating:!0};c(Z().data)&&(v.isLoading=!0);try{if(d&&(z(v),r.loadingTimeout&&c(Z().data)&&setTimeout(()=>{l&&f()&&U().onLoadingSlow(T,r)},r.loadingTimeout),_[T]=[o(R),k()]),[t,n]=_[T],t=await t,d&&setTimeout(g,r.dedupingInterval),!_[T]||_[T][1]!==n)return d&&f()&&U().onDiscarded(T),!1;p.error=i;let e=E[T];if(!c(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return m(),d&&f()&&U().onDiscarded(T),!1;let s=Z().data;p.data=a(s,t)?s:t,d&&f()&&U().onSuccess(t,T,r)}catch(r){g();let e=U(),{shouldRetryOnError:t}=e;!e.isPaused()&&(p.error=r,d&&f()&&(e.onError(r,T,e),(!0===t||u(t)&&t(r))&&F()&&e.onErrorRetry(r,T,e,e=>{let t=b[T];t&&t[0]&&t[0](j.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return l=!1,m(),!0},[T,n]),ef=(0,o.useCallback)((...e)=>M(n,D.current,...e),[]);if(L(()=>{V.current=t,W.current=r,c(er)||(el.current=er)}),L(()=>{if(!T)return;let e=ed.bind(i,Q),t=0,r=G(T,b,(r,n={})=>{if(r==j.FOCUS_EVENT){let r=Date.now();U().revalidateOnFocus&&r>t&&F()&&(t=r+U().focusThrottleInterval,e())}else if(r==j.RECONNECT_EVENT)U().revalidateOnReconnect&&F()&&e();else if(r==j.MUTATE_EVENT)return ed();else if(r==j.ERROR_REVALIDATE_EVENT)return ed(n)});return O.current=!1,D.current=T,x.current=!0,z({_k:R}),ei&&(c(en)||N?e():I(e)),()=>{O.current=!0,r()}},[T]),L(()=>{let e;function t(){let t=u(g)?g(Z().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!Z().error&&(h||U().isVisible())&&(w||U().isOnline())?ed(Q).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,h,w,T]),(0,o.useDebugValue)(ea),s&&c(en)&&T){if(!A&&N)throw Error("Fallback data is required when using suspense in SSR.");V.current=t,W.current=r,O.current=!1;let e=C[T];if(c(e)||K(ef(e)),c(eo)){let e=ed(Q);c(ea)||(e.status="fulfilled",e.value=!0),K(e)}else throw eo}return{mutate:ef,get data(){return X.data=!0,ea},get error(){return X.error=!0,eo},get isValidating(){return X.isValidating=!0,ec},get isLoading(){return X.isLoading=!0,eu}}},function(...e){let t=q(),[r,o,l]=B(e),a=H(t,l),i=n,{use:s}=a,c=(s||[]).concat(J);for(let e=c.length;e--;)i=c[e](i);return i(r,o||a.fetcher||null,a)});var et=((e,t=21)=>(r=t)=>{let n="",o=r;for(;o--;)n+=e[Math.random()*e.length|0];return n})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),er={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},en={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},eo={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},el={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ea={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},ei={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},es={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},ec={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>null==e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id||!("type"in e)||"string"!=typeof e.type||!("function"in e)||null==e.function||"object"!=typeof e.function||!("arguments"in e.function)||"string"!=typeof e.function.name||"string"!=typeof e.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},eu={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ed={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},ef={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId", "toolName", "args", and "result" property.');return{type:"tool_result",value:e}}},ep={[er.code]:er,[en.code]:en,[eo.code]:eo,[el.code]:el,[ea.code]:ea,[ei.code]:ei,[es.code]:es,[ec.code]:ec,[eu.code]:eu,[ed.code]:ed,[ef.code]:ef};er.name,er.code,en.name,en.code,eo.name,eo.code,el.name,el.code,ea.name,ea.code,ei.name,ei.code,es.name,es.code,ec.name,ec.code,eu.name,eu.code,ed.name,ed.code,ef.name,ef.code;var em=[er,en,eo,el,ea,ei,es,ec,eu,ed,ef].map(e=>e.code),eg=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!em.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=JSON.parse(e.slice(t+1));return ep[r].parse(n)};async function*ev(e,{isAborted:t}={}){let r=new TextDecoder,n=[],o=0;for(;;){let{value:l}=await e.read();if(l&&(n.push(l),o+=l.length,10!==l[l.length-1]))continue;if(0===n.length)break;let a=function(e,t){let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return e.length=0,r}(n,o);for(let e of(o=0,r.decode(a,{stream:!0}).split("\n").filter(e=>""!==e).map(eg)))yield e;if(null==t?void 0:t()){e.cancel();break}}}function eh(e,t){return e&&t&&t.length?{...e,annotations:[...t]}:e}async function ew({reader:e,abortControllerRef:t,update:r,onFinish:n,generateId:o=et,getCurrentDate:l=()=>new Date}){let a;let i=l(),s={data:[]};for await(let{type:n,value:l}of ev(e,{isAborted:()=>(null==t?void 0:t.current)===null})){if("text"===n&&(s.text?s.text={...s.text,content:(s.text.content||"")+l}:s.text={id:o(),role:"assistant",content:l,createdAt:i}),"tool_call"===n)null==s.text&&(s.text={id:o(),role:"assistant",content:"",createdAt:i}),null==s.text.toolInvocations&&(s.text.toolInvocations=[]),s.text.toolInvocations.push(l);else if("tool_result"===n){null==s.text&&(s.text={id:o(),role:"assistant",content:"",createdAt:i}),null==s.text.toolInvocations&&(s.text.toolInvocations=[]);let e=s.text.toolInvocations.findIndex(e=>e.toolCallId===l.toolCallId);-1!==e?s.text.toolInvocations[e]=l:s.text.toolInvocations.push(l)}let e=null;"function_call"===n&&(s.function_call={id:o(),role:"assistant",content:"",function_call:l.function_call,name:l.function_call.name,createdAt:i},e=s.function_call);let t=null;"tool_calls"===n&&(s.tool_calls={id:o(),role:"assistant",content:"",tool_calls:l.tool_calls,createdAt:i},t=s.tool_calls),"data"===n&&s.data.push(...l);let c=s.text;"message_annotations"===n&&(a?a.push(...l):a=[...l],e=eh(s.function_call,a),t=eh(s.tool_calls,a),c=eh(s.text,a)),(null==a?void 0:a.length)&&["text","function_call","tool_calls"].forEach(e=>{s[e]&&(s[e].annotations=[...a])}),r([e,t,c].filter(Boolean).map(e=>({...eh(e,a)})),[...s.data])}return null==n||n(s),{messages:[s.text,s.function_call,s.tool_calls].filter(Boolean),data:s.data}}async function ey({api:e,messages:t,body:r,streamMode:n="stream-data",credentials:o,headers:l,abortController:a,restoreMessagesOnFailure:i,onResponse:s,onUpdate:c,onFinish:u,generateId:d}){var f;let p=await fetch(e,{method:"POST",body:JSON.stringify({messages:t,...r}),headers:{"Content-Type":"application/json",...l},signal:null==(f=null==a?void 0:a())?void 0:f.signal,credentials:o}).catch(e=>{throw i(),e});if(s)try{await s(p)}catch(e){throw e}if(!p.ok)throw i(),Error(await p.text()||"Failed to fetch the chat response.");if(!p.body)throw Error("The response body is empty.");let m=p.body.getReader();switch(n){case"text":{let e=function(e){let t=new TextDecoder;return function(e){return e?t.decode(e,{stream:!0}):""}}(),t={id:d(),createdAt:new Date,role:"assistant",content:""};for(;;){let{done:r,value:n}=await m.read();if(r)break;if(t.content+=e(n),t.id=d(),c([{...t}],[]),(null==a?void 0:a())===null){m.cancel();break}}return null==u||u(t),{messages:[t],data:[]}}case"stream-data":return await ew({reader:m,abortControllerRef:null!=a?{current:a()}:void 0,update:c,onFinish(e){u&&null!=e.text&&u(e.text)},generateId:d});default:throw Error(`Unknown stream mode: ${n}`)}}async function eb({getStreamedResponse:e,experimental_onFunctionCall:t,experimental_onToolCall:r,updateChatRequest:n,getCurrentMessages:o}){for(;;){let l=await e();if("messages"in l){let e=!1;for(let a of l.messages)if(void 0!==a.function_call&&"string"!=typeof a.function_call||void 0!==a.tool_calls&&"string"!=typeof a.tool_calls){if(e=!0,t){let r=a.function_call;if("object"!=typeof r){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let l=await t(o(),r);if(void 0===l){e=!1;break}n(l)}if(r){let t=a.tool_calls;if(!Array.isArray(t)||t.some(e=>"object"!=typeof e)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let l=await r(o(),t);if(void 0===l){e=!1;break}n(l)}}if(!e)break}else{let e=function(e){for(let t of e.messages){if(void 0!==t.tool_calls)for(let e of t.tool_calls)"object"==typeof e&&e.function.arguments&&"string"!=typeof e.function.arguments&&(e.function.arguments=JSON.stringify(e.function.arguments));void 0!==t.function_call&&"object"==typeof t.function_call&&t.function_call.arguments&&"string"!=typeof t.function_call.arguments&&(t.function_call.arguments=JSON.stringify(t.function_call.arguments))}};if((void 0===l.function_call||"string"==typeof l.function_call)&&(void 0===l.tool_calls||"string"==typeof l.tool_calls))break;if(t){let r=l.function_call;if("object"!=typeof r){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let a=await t(o(),r);if(void 0===a)break;e(a),n(a)}if(r){let t=l.tool_calls;if("object"!=typeof t){console.warn("experimental_onToolCall should not be defined when using functions");continue}let a=await r(o(),t);if(void 0===a)break;e(a),n(a)}}}}var eE=async(e,t,r,n,o,l,a,i,s,c,u,d,f)=>{var p,m;let g=a.current;r(t.messages,!1);let v=f?t.messages:t.messages.map(({role:e,content:t,name:r,toolInvocations:n,function_call:o,tool_calls:l,tool_call_id:a})=>({role:e,content:t,...void 0!==r&&{name:r},...void 0!==n&&{toolInvocations:n},tool_call_id:a,...void 0!==o&&{function_call:o},...void 0!==l&&{tool_calls:l}}));if("string"!=typeof e){let n={id:s(),createdAt:new Date,content:"",role:"assistant"};async function h(e){let{content:o,ui:l,next:a}=await e;n.content=o,n.ui=await l,r([...t.messages,{...n}],!1),a&&await h(a)}try{let r=e({messages:v,data:t.data});await h(r)}catch(e){throw r(g,!1),e}return u&&u(n),n}return await ey({api:e,messages:v,body:{data:t.data,...l.current.body,...null==(p=t.options)?void 0:p.body,...void 0!==t.functions&&{functions:t.functions},...void 0!==t.function_call&&{function_call:t.function_call},...void 0!==t.tools&&{tools:t.tools},...void 0!==t.tool_choice&&{tool_choice:t.tool_choice}},streamMode:c,credentials:l.current.credentials,headers:{...l.current.headers,...null==(m=t.options)?void 0:m.headers},abortController:()=>i.current,restoreMessagesOnFailure(){r(g,!1)},onResponse:d,onUpdate(e,l){r([...t.messages,...e],!1),n([...o||[],...l||[]],!1)},onFinish:u,generateId:s})};function e_({api:e="/api/chat",id:t,initialMessages:r,initialInput:n="",sendExtraMessageFields:l,experimental_onFunctionCall:a,experimental_onToolCall:i,experimental_maxAutomaticRoundtrips:s=0,streamMode:c,onResponse:u,onFinish:d,onError:f,credentials:p,headers:m,body:g,generateId:v=et}={}){let h=(0,o.useId)(),w=null!=t?t:h,y="string"==typeof e?[e,w]:w,[b]=(0,o.useState)([]),{data:E,mutate:_}=ee([y,"messages"],null,{fallbackData:null!=r?r:b}),{data:S=!1,mutate:C}=ee([y,"loading"],null),{data:T,mutate:R}=ee([y,"streamData"],null),{data:x,mutate:A}=ee([y,"error"],null),N=(0,o.useRef)(E||[]),I=(0,o.useRef)(null),L=(0,o.useRef)({credentials:p,headers:m,body:g}),O=(0,o.useCallback)(async t=>{try{C(!0),A(void 0);let r=new AbortController;I.current=r,await eb({getStreamedResponse:()=>eE(e,t,_,R,T,L,N,I,v,c,d,u,l),experimental_onFunctionCall:a,experimental_onToolCall:i,updateChatRequest:e=>{t=e},getCurrentMessages:()=>N.current}),I.current=null}catch(e){if("AbortError"===e.name)return I.current=null,null;f&&e instanceof Error&&f(e),A(e)}finally{C(!1)}let r=N.current,n=r[r.length-1];null!=n&&s>0&&eS(n)&&function(e){let t=0;for(let r=e.length-1;r>=0;r--)if("assistant"===e[r].role)t++;else break;return t}(r)<=s&&await O({messages:r})},[_,C,e,L,u,d,f,A,R,T,c,l,a,i,s,N,I,v]),D=(0,o.useCallback)(async(e,{options:t,functions:r,function_call:n,tools:o,tool_choice:l,data:a}={})=>(e.id||(e.id=v()),O({messages:N.current.concat(e),options:t,data:a,...void 0!==r&&{functions:r},...void 0!==n&&{function_call:n},...void 0!==o&&{tools:o},...void 0!==l&&{tool_choice:l}})),[O,v]),P=(0,o.useCallback)(async({options:e,functions:t,function_call:r,tools:n,tool_choice:o}={})=>0===N.current.length?null:"assistant"===N.current[N.current.length-1].role?O({messages:N.current.slice(0,-1),options:e,...void 0!==t&&{functions:t},...void 0!==r&&{function_call:r},...void 0!==n&&{tools:n},...void 0!==o&&{tool_choice:o}}):O({messages:N.current,options:e,...void 0!==t&&{functions:t},...void 0!==r&&{function_call:r},...void 0!==n&&{tools:n},...void 0!==o&&{tool_choice:o}}),[O]),V=(0,o.useCallback)(()=>{I.current&&(I.current.abort(),I.current=null)},[]),k=(0,o.useCallback)(e=>{_(e,!1),N.current=e},[_]),[j,M]=(0,o.useState)(n),W=(0,o.useCallback)((e,t={},r)=>{r&&(L.current={...L.current,...r}),e.preventDefault(),j&&(D({content:j,role:"user",createdAt:new Date},t),M(""))},[j,D]);return{messages:E||[],error:x,append:D,reload:P,stop:V,setMessages:k,input:j,setInput:M,handleInputChange:e=>{M(e.target.value)},handleSubmit:W,isLoading:S,data:T,experimental_addToolResult:({toolCallId:e,result:t})=>{let r=N.current.map((r,n,o)=>n===o.length-1&&"assistant"===r.role&&r.toolInvocations?{...r,toolInvocations:r.toolInvocations.map(r=>r.toolCallId===e?{...r,result:t}:r)}:r);_(r,!1),eS(r[r.length-1])&&O({messages:r})}}}function eS(e){return"assistant"===e.role&&e.toolInvocations&&e.toolInvocations.length>0&&e.toolInvocations.every(e=>"result"in e)}},8671:(e,t,r)=>{r.d(t,{j:()=>l});let n=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,o=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(o&&(o+=" "),o+=n);else for(r in t)t[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(n&&(n+=" "),n+=t);return n},l=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],o=null==i?void 0:i[e];if(null===t)return null;let l=n(t)||n(o);return a[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return o(e,s,null==t?void 0:null===(l=t.compoundVariants)||void 0===l?void 0:l.reduce((e,t)=>{let{class:r,className:n,...o}=t;return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};